//=================================================================================
// MainMenu.hpp
// Author: Tyler George
// Date  : August 20, 2015
//=================================================================================

#pragma once

#ifndef __included_MainMenu__
#define __included_MainMenu__

///---------------------------------------------------------------------------------
/// Includes
///---------------------------------------------------------------------------------
#include "Engine/Renderer/OpenGLRenderer.hpp"
#include "Engine/Input/InputSystem.hpp"
#include "Engine/Renderer/FontRenderer.hpp"

///---------------------------------------------------------------------------------
/// Typedefs
///---------------------------------------------------------------------------------

///---------------------------------------------------------------------------------
/// Enums
///---------------------------------------------------------------------------------

enum MainMenuState
{
    MMS_DO_NOTHING,
    MMS_IS_READY_TO_QUIT,
    MMS_SWITCH_TO_PLAY,
    MMS_SWITCH_TO_OPTIONS,
    MMS_CONTINUE
};

////===========================================================================================
///===========================================================================================
// MainMenu Class
///===========================================================================================
////===========================================================================================
class MainMenu
{
public:
	///---------------------------------------------------------------------------------
	/// Constructors/Destructors
	///---------------------------------------------------------------------------------
    MainMenu( Vector2 displaySize, unsigned int basicShaderID, unsigned int fontShaderID );
    ~MainMenu();

	///---------------------------------------------------------------------------------
	/// Initialization
	///---------------------------------------------------------------------------------
    void Startup( Font* titleFont, Font* font );

	///---------------------------------------------------------------------------------
	/// Accessors/Queries
	///---------------------------------------------------------------------------------

	///---------------------------------------------------------------------------------
	/// Mutators
	///---------------------------------------------------------------------------------
    void Reset();

	///---------------------------------------------------------------------------------
	/// Update
	///---------------------------------------------------------------------------------
    void ProcessInput( InputSystem* inputSystem, double deltaseconds );
    MainMenuState Update( double deltaseconds, bool debugModeEnabled );

	///---------------------------------------------------------------------------------
	/// Render
	///---------------------------------------------------------------------------------
    void Render( OpenGLRenderer* renderer, FontRenderer* fontRenderer, bool debugModeEnabled );

	///---------------------------------------------------------------------------------
	/// Public Member Variables
	///---------------------------------------------------------------------------------

	///---------------------------------------------------------------------------------
	/// Static Variables
	///---------------------------------------------------------------------------------


private:
	///---------------------------------------------------------------------------------
	/// Private Functions
	///---------------------------------------------------------------------------------
    void SetState( MainMenuState newState );
    
	///---------------------------------------------------------------------------------
	/// Private Member Variables
	///---------------------------------------------------------------------------------
    Vector2 m_displaySize;

    unsigned int m_basicShaderID;
    unsigned int m_fontShaderID;

    Font* m_titleFont;
    Font* m_font;

    Vector2 m_mouseCoords;
    bool m_saveExists;
    MainMenuState m_state;

};

///---------------------------------------------------------------------------------
/// Inline function implementations
///---------------------------------------------------------------------------------

#endif