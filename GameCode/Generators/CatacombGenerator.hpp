//=================================================================================
// CatacombGenerator.hpp
// Author: Tyler George
// Date  : October 8, 2015
//=================================================================================

#pragma once

#ifndef __included_CatacombGenerator__
#define __included_CatacombGenerator__

///---------------------------------------------------------------------------------
/// Includes
///---------------------------------------------------------------------------------
#include "Engine/Input/InputSystem.hpp"
#include "Engine/Renderer/OpenGLRenderer.hpp"
#include "Engine/Renderer/FontRenderer.hpp"

#include "GameCode/Generators/BaseMapGenerator.hpp"


///---------------------------------------------------------------------------------
/// Typedefs
///---------------------------------------------------------------------------------


////===========================================================================================
///===========================================================================================
// CatacombGenerator Class
///===========================================================================================
////===========================================================================================
class CatacombGenerator : public BaseMapGenerator
{
public:
    ///---------------------------------------------------------------------------------
    /// Constructors/Destructors
    ///---------------------------------------------------------------------------------
    CatacombGenerator( const std::string& name );
    ~CatacombGenerator();

    ///---------------------------------------------------------------------------------
    /// Initialization
    ///---------------------------------------------------------------------------------

    ///---------------------------------------------------------------------------------
    /// Accessors/Queries
    ///---------------------------------------------------------------------------------
    static BaseMapGenerator* CreateMapGenerator( const std::string& name );
    Map* CreateMap( const IntVector2& mapSize = IntVector2::ZERO );
    bool ProcessOneStep( Map* map );

    ///---------------------------------------------------------------------------------
    /// Mutators
    ///---------------------------------------------------------------------------------
    bool FillMapRect( Map* map, const AABB2D& rectBounds, CellType fillType );

    ///---------------------------------------------------------------------------------
    /// Update
    ///---------------------------------------------------------------------------------

    ///---------------------------------------------------------------------------------
    /// Render
    ///---------------------------------------------------------------------------------

    ///---------------------------------------------------------------------------------
    /// Public Member Variables
    ///---------------------------------------------------------------------------------

    ///---------------------------------------------------------------------------------
    /// Static Variables
    ///---------------------------------------------------------------------------------
    static MapGeneratorRegistration s_catacombGeneratorRegistration;

private:
    ///---------------------------------------------------------------------------------
    /// Private Functions
    ///---------------------------------------------------------------------------------

    ///---------------------------------------------------------------------------------
    /// Private Member Variables
    ///---------------------------------------------------------------------------------
};

///---------------------------------------------------------------------------------
/// Inline function implementations
///---------------------------------------------------------------------------------

#endif